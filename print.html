<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>AWS Libcrypto for Rust User Guide</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="requirements/index.html"><strong aria-hidden="true">1.</strong> Requirements</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="requirements/linux.html"><strong aria-hidden="true">1.1.</strong> Linux</a></li><li class="chapter-item expanded "><a href="requirements/apple.html"><strong aria-hidden="true">1.2.</strong> macOS/iOS</a></li><li class="chapter-item expanded "><a href="requirements/windows.html"><strong aria-hidden="true">1.3.</strong> Windows</a></li></ol></li><li class="chapter-item expanded "><a href="platform_support.html"><strong aria-hidden="true">2.</strong> Platform Support</a></li><li class="chapter-item expanded "><a href="faq.html"><strong aria-hidden="true">3.</strong> FAQ</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="resources.html">Resources</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AWS Libcrypto for Rust User Guide</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p><a href="https://crates.io/crates/aws-lc-rs"><img src="https://img.shields.io/crates/v/aws-lc-rs?label=aws-lc-rs" alt="aws-lc-rs" /></a>
<a href="https://crates.io/crates/aws-lc-sys"><img src="https://img.shields.io/crates/v/aws-lc-sys?label=aws-lc-sys" alt="aws-lc-sys" /></a>
<a href="https://crates.io/crates/aws-lc-fips-sys"><img src="https://img.shields.io/crates/v/aws-lc-fips-sys?label=aws-lc-fips-sys" alt="aws-lc-fips-sys" /></a></p>
<p><strong><a href="https://crates.io/crates/aws-lc-rs">aws-lc-rs</a></strong> is a cryptographic library using AWS Libcrypto (<a href="https://github.com/aws/aws-lc">AWS-LC</a>)
for its cryptographic operations. This library strives to be API-compatible with the popular Rust library
named <a href="https://github.com/briansmith/ring">ring</a> (<a href="https://docs.rs/ring/0.16.20/ring/index.html">v0.16</a>).
It uses one of our auto-generated Foreign Function Interface (FFI) crates
(either <strong><a href="https://crates.io/crates/aws-lc-sys">aws-lc-sys</a></strong> or <strong><a href="https://crates.io/crates/aws-lc-fips-sys">aws-lc-fips-sys</a></strong>) for binding to AWS-LC for the cryptographic implementations.</p>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<p>Rust developers increasingly need to deploy applications that meet US and Canadian government cryptographic
requirements. We evaluated how to deliver FIPS validated cryptography in idiomatic and performant Rust, built around our
AWS-LC offering. We found that the popular ring library fulfilled much of the cryptographic needs in the Rust
community, but it did not meet the needs of developers with FIPS requirements. Our intention is to contribute a drop-in
replacement for ring that provides FIPS support and is compatible with the ring (v0.16) API. Rust developers with
prescribed cryptographic requirements can seamlessly integrate aws-lc-rs into their applications and deploy them into
AWS Regions.</p>
<h2 id="questions-feedback-and-contributing"><a class="header" href="#questions-feedback-and-contributing">Questions, Feedback and Contributing</a></h2>
<ul>
<li><a href="https://github.com/awslabs/aws-lc-rs/issues/new/choose">Submit an non-security Bug/Issue/Request</a></li>
<li><a href="https://docs.rs/aws-lc-rs/">API documentation</a></li>
<li><a href="https://github.com/awslabs/aws-lc-rs/fork">Fork our repo</a></li>
</ul>
<p>We use <a href="https://github.com/awslabs/aws-lc-rs/issues/new/choose">GitHub Issues</a> for managing feature requests, bug reports, or questions about aws-lc-rs API usage.</p>
<p>Otherwise, if you think you might have found a security impacting issue, please instead
follow our <em>Security Notification Process</em> below.</p>
<h2 id="security-notification-process"><a class="header" href="#security-notification-process">Security Notification Process</a></h2>
<p>If you discover a potential security issue in <em>AWS-LC</em> or <em>aws-lc-rs</em>, we ask that you notify AWS
Security via our <a href="https://aws.amazon.com/security/vulnerability-reporting/">vulnerability reporting page</a>.
Please do <strong>not</strong> create a public GitHub issue.</p>
<p>If you package or distribute <em>aws-lc-rs</em>, or use <em>aws-lc-rs</em> as part of a large multi-user service,
you may be eligible for pre-notification of future <em>aws-lc-rs</em> releases.
Please contact aws-lc-pre-notifications@amazon.com.</p>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p><a href="https://crates.io/crates/aws-lc-rs">aws-lc-rs</a> is licensed under the Apache-2.0 or the ISC License.
The <a href="https://crates.io/crates/aws-lc-sys">aws-lc-sys</a> and <a href="https://crates.io/crates/aws-lc-fips-sys">aws-lc-fips-sys</a> libraries contain code from <a href="https://github.com/aws/aws-lc">AWS-LC</a> and are licensed under
the ISC AND ( Apache-2.0 OR ISC ) AND OpenSSL licenses.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="requirements"><a class="header" href="#requirements">Requirements</a></h1>
<p>This page outlines the requirements for using <code>aws-lc-rs</code> on each target platform.</p>
<p><code>aws-lc-rs</code> uses <a href="https://crates.io/crates/aws-lc-sys">aws-lc-sys</a> or <a href="https://crates.io/crates/aws-lc-fips-sys">aws-lc-fips-sys</a> to provide raw FFI bindings to <a href="https://github.com/aws/aws-lc">AWS-LC</a>. Thus,
there are additional build tools required for building these crates into your Rust application.</p>
<ul>
<li><a href="requirements/linux">Linux</a></li>
<li><a href="requirements/apple">macOS &amp; iOS</a></li>
<li><a href="requirements/windows">Windows</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linux-requirements"><a class="header" href="#linux-requirements">Linux Requirements</a></h1>
<p>Unless the &quot;fips&quot; feature is enabled, building aws-lc-rs v1.7.0 (or later) for the following targets should only require
a C/C++ compiler.</p>
<div class="table-wrapper"><table><thead><tr><th>Platform</th><th><em>default</em></th><th><strong>fips</strong></th><th>bindgen required?</th></tr></thead><tbody>
<tr><td><code>aarch64-unknown-linux-gnu</code></td><td>C/C++ Compiler</td><td>C/C++ Compiler, CMake &amp; Go</td><td>No</td></tr>
<tr><td><code>aarch64-unknown-linux-musl</code></td><td>C/C++ Compiler</td><td>C/C++ Compiler, CMake &amp; Go</td><td>No</td></tr>
<tr><td><code>x86_64-unknown-linux-gnu</code></td><td>C/C++ Compiler</td><td>C/C++ Compiler, CMake &amp; Go</td><td>No</td></tr>
<tr><td><code>x86_64-unknown-linux-musl</code></td><td>C/C++ Compiler</td><td>C/C++ Compiler, CMake &amp; Go</td><td>No</td></tr>
<tr><td><code>i686-unknown-linux-gnu</code></td><td>C/C++ Compiler</td><td><strong>Not Supported</strong></td><td>No</td></tr>
<tr><td><em>Other</em></td><td>C/C++ Compiler &amp; CMake</td><td><strong>Not Supported</strong></td><td><strong><em>Yes</em></strong></td></tr>
</tbody></table>
</div>
<h2 id="cc-compiler"><a class="header" href="#cc-compiler">C/C++ Compiler</a></h2>
<h3 id="amazon-linux-al2023"><a class="header" href="#amazon-linux-al2023">Amazon Linux (AL2023)</a></h3>
<pre><code class="language-shell">sudo dnf groupinstall -y &quot;Development Tools&quot;
</code></pre>
<h4 id="ubuntu-2204-lts"><a class="header" href="#ubuntu-2204-lts">Ubuntu (22.04 LTS)</a></h4>
<pre><code class="language-shell">sudo apt-get install -y build-essential
</code></pre>
<h2 id="cmake--go"><a class="header" href="#cmake--go">CMake &amp; Go</a></h2>
<h4 id="amazon-linux-al2023-1"><a class="header" href="#amazon-linux-al2023-1">Amazon Linux (AL2023)</a></h4>
<pre><code class="language-shell">sudo dnf install -y cmake golang
</code></pre>
<h4 id="ubuntu-2204-lts-1"><a class="header" href="#ubuntu-2204-lts-1">Ubuntu (22.04 LTS)</a></h4>
<pre><code class="language-shell">sudo apt-get install -y cmake golang
</code></pre>
<h2 id="bindgen"><a class="header" href="#bindgen">Bindgen</a></h2>
<p>On most platforms, <code>bindgen</code> requires <code>libclang</code> or <code>llvm</code> package to be installed.
See the <a href="https://rust-lang.github.io/rust-bindgen/requirements.html">requirements</a> page in
<a href="https://rust-lang.github.io/rust-bindgen/">The bindgen User Guide</a> for instructions.</p>
<h3 id="libclang--llvm"><a class="header" href="#libclang--llvm">libclang / LLVM</a></h3>
<h4 id="amazon-linux-al2023-2"><a class="header" href="#amazon-linux-al2023-2">Amazon Linux (AL2023)</a></h4>
<pre><code class="language-shell">sudo dnf install -y clang-libs
</code></pre>
<h4 id="ubuntu-2204-lts-2"><a class="header" href="#ubuntu-2204-lts-2">Ubuntu (22.04 LTS)</a></h4>
<pre><code class="language-shell">sudo apt-get install -y libclang1
</code></pre>
<h3 id="bindgen-cli"><a class="header" href="#bindgen-cli">bindgen-cli</a></h3>
<pre><code class="language-shell">cargo install --force --locked bindgen-cli
</code></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<p>See our <a href="requirements/../resources.html#troubleshooting">troubleshooting section</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="macos--ios-requirements"><a class="header" href="#macos--ios-requirements">macOS &amp; iOS Requirements</a></h1>
<p>Unless the &quot;fips&quot; feature is enabled, building aws-lc-rs v1.7.0 (or later) for macOS targets should only require
a C/C++ compiler. Builds for iOS will also require CMake.</p>
<div class="table-wrapper"><table><thead><tr><th>Platform</th><th><em>default</em></th><th><strong>fips</strong></th><th>bindgen required?</th></tr></thead><tbody>
<tr><td><code>aarch64-apple-darwin</code></td><td>C/C++ Compiler</td><td>C/C++ Compiler, CMake &amp; Go</td><td>No</td></tr>
<tr><td><code>x86_64-apple-darwin</code></td><td>C/C++ Compiler</td><td>C/C++ Compiler, CMake &amp; Go</td><td>No</td></tr>
<tr><td><code>aarch64-apple-ios</code></td><td>C/C++ Compiler &amp; CMake</td><td><strong>Not Supported</strong></td><td><strong><em>Yes</em></strong></td></tr>
<tr><td><code>x86_64-apple-ios</code></td><td>C/C++ Compiler &amp; CMake</td><td><strong>Not Supported</strong></td><td><strong><em>Yes</em></strong></td></tr>
</tbody></table>
</div>
<h2 id="cc-compiler-1"><a class="header" href="#cc-compiler-1">C/C++ Compiler</a></h2>
<p>Install <a href="https://developer.apple.com/xcode/resources/">Command Line Tools for Xcode</a> which a provides a C/C++ compiler environment (LLVM).</p>
<h2 id="cmake"><a class="header" href="#cmake">CMake</a></h2>
<h3 id="macports"><a class="header" href="#macports">MacPorts</a></h3>
<pre><code class="language-shell">sudo port install cmake
</code></pre>
<h3 id="homebrew"><a class="header" href="#homebrew">Homebrew</a></h3>
<pre><code class="language-shell">brew install cmake
</code></pre>
<h2 id="bindgen-1"><a class="header" href="#bindgen-1">Bindgen</a></h2>
<p>On most platforms, <code>bindgen</code> requires <code>libclang</code> or <code>llvm</code> package to be installed.
See the <a href="https://rust-lang.github.io/rust-bindgen/requirements.html">requirements</a> page in
<a href="https://rust-lang.github.io/rust-bindgen/">The bindgen User Guide</a> for instructions.</p>
<h4 id=""><a class="header" href="#"></a></h4>
<h3 id="macports-1"><a class="header" href="#macports-1">MacPorts</a></h3>
<pre><code class="language-shell">sudo port install clang
</code></pre>
<h3 id="homebrew-1"><a class="header" href="#homebrew-1">Homebrew</a></h3>
<pre><code class="language-shell">brew install llvm
</code></pre>
<h3 id="bindgen-cli-1"><a class="header" href="#bindgen-cli-1">bindgen-cli</a></h3>
<pre><code class="language-shell">cargo install --force --locked bindgen-cli
</code></pre>
<h2 id="fips-build"><a class="header" href="#fips-build">FIPS build</a></h2>
<p>Building with the &quot;fips&quot; feature on this platform will result in the creation of shared libraries (named like
<code>libaws_lc_fips_0_xx_yy_crypto.dylib</code> and <code>libaws_lc_fips_0_xx_yy_rust_wrapper.dylib</code>). These shared libraries will
likely need to be distributed alongside any executable that depends on <strong>aws-lc-rs</strong>.</p>
<h2 id="troubleshooting-1"><a class="header" href="#troubleshooting-1">Troubleshooting</a></h2>
<p>See our <a href="requirements/../resources.html#troubleshooting">troubleshooting section</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="windows-requirements"><a class="header" href="#windows-requirements">Windows Requirements</a></h1>
<div class="table-wrapper"><table><thead><tr><th>Platform</th><th><em>default</em></th><th><strong>fips</strong></th><th>bindgen required?</th></tr></thead><tbody>
<tr><td><code>x86_64-pc-windows-msvc</code></td><td>C/C++ Compiler, CMake &amp; *NASM</td><td>C/C++ Compiler, CMake, NASM, Go &amp; Ninja</td><td>No</td></tr>
<tr><td><code>x86_64-pc-windows-gnu</code></td><td>C/C++ Compiler, CMake &amp; *NASM</td><td><strong>Not Supported</strong></td><td>No</td></tr>
<tr><td><code>i686-pc-windows-msvc</code></td><td>C/C++ Compiler, CMake &amp; NASM</td><td><strong>Not Supported</strong></td><td>No</td></tr>
<tr><td><code>aarch64-pc-windows-msvc</code></td><td>C/C++ Compiler (MSVC's <code>clang-cl</code>) &amp; CMake</td><td><strong>Not Supported</strong></td><td>No</td></tr>
<tr><td><em>Other</em></td><td><strong>Not Supported</strong></td><td><strong>Not Supported</strong></td><td>N/A</td></tr>
</tbody></table>
</div>
<ul>
<li>The NASM assembler is recommended on <code>x86-64</code> platforms. NASM is required for <code>x86</code> and for &quot;fips&quot; builds. See the
<a href="requirements/windows.html#prebuilt-nasm-objects">Prebuilt NASM objects</a> section below.</li>
</ul>
<h2 id="cc-compiler-2"><a class="header" href="#cc-compiler-2">C/C++ Compiler</a></h2>
<p>Use the following instructions to download <strong>Visual Studio Build Tools 2017</strong> or later.</p>
<ol>
<li>Download the <a href="https://aka.ms/vs/17/release/vs_BuildTools.exe">Build Tools for Visual Studio</a> installer.</li>
<li>Execute the installer.</li>
<li>If you have an existing installation chose <code>Modify</code> on the existing installation.</li>
<li>Under <code>Workloads</code> select <code>Visual C++ build tools</code></li>
<li>Under <code>Individual componenets</code> select
<ul>
<li><code>C++/CLI support</code></li>
<li><code>C++ CMake tools for Windows</code></li>
</ul>
</li>
<li>For ARM64/aarch64 support, also select:
<ul>
<li><code>C++ Clang Compiler for Windows</code></li>
<li><code>MSBuild support for LLVM (clang-cl) toolset</code></li>
</ul>
</li>
<li>Confirm selections and click <code>Install</code></li>
</ol>
<h2 id="cmake-1"><a class="header" href="#cmake-1">CMake</a></h2>
<ol>
<li><a href="https://cmake.org/download/">Download</a> Windows CMake Installer</li>
<li>Execute the installer</li>
<li>Add the CMake installation binary directory to your PATH.
<ul>
<li><code>set PATH=&quot;C:\Program Files\CMake\bin;%PATH%&quot;</code></li>
</ul>
</li>
</ol>
<h2 id="nasm"><a class="header" href="#nasm">NASM</a></h2>
<ol>
<li><a href="https://nasm.us/">Download</a> and install the Netwide Assembler (NASM)</li>
<li>Add the NASM installation directory to your PATH
<ul>
<li><code>set PATH=&quot;C:\Program Files\NASM;%PATH%&quot;</code></li>
</ul>
</li>
</ol>
<h3 id="use-of-prebuilt-nasm-objects"><a class="header" href="#use-of-prebuilt-nasm-objects">Use of prebuilt NASM objects</a></h3>
<p>For Windows x86 and x86-64, NASM is required for assembly code compilation. On these platforms,
we recommend that you install <a href="https://www.nasm.us/">the NASM assembler</a>. If NASM is
detected in the build environment <em>it is used</em> to compile the assembly files. However,
if a NASM assembler is not available, and the &quot;fips&quot; feature is not enabled, then the build fails unless one of the
following conditions are true:</p>
<ul>
<li>You are building for <code>x86-64</code> and either:
<ul>
<li>The <code>AWS_LC_SYS_PREBUILT_NASM</code> environment variable is found and has a value of &quot;1&quot;; OR</li>
<li><code>AWS_LC_SYS_PREBUILT_NASM</code> is <em>not found</em> in the environment AND the &quot;prebuilt-nasm&quot; feature has been enabled.</li>
</ul>
</li>
</ul>
<p>If the above cases apply, then the crate provided prebuilt NASM objects will be used for the build. To prevent usage of
prebuilt NASM
objects, install NASM in the build environment and/or set the variable <code>AWS_LC_SYS_PREBUILT_NASM</code> to <code>0</code> in the build
environment to prevent their use.</p>
<h4 id="about-prebuilt-nasm-objects"><a class="header" href="#about-prebuilt-nasm-objects">About prebuilt NASM objects</a></h4>
<p>Prebuilt NASM objects are generated using automation similar to the crate provided pregenerated bindings. See the
repositories
<a href="https://github.com/aws/aws-lc-rs/blob/main/.github/workflows/sys-bindings-generator.yml">GitHub workflow configuration</a>
for more information.
The prebuilt NASM objects are checked into the repository
and are <a href="https://github.com/aws/aws-lc-rs/tree/main/aws-lc-sys/builder/prebuilt-nasm">available for inspection</a>.
For each PR submitted,
<a href="https://github.com/aws/aws-lc-rs/blob/8fb6869fc7bde92529a5cca40cf79513820984f7/.github/workflows/tests.yml#L209-L241">CI verifies</a>
that the NASM objects newly built from source match the NASM objects currently in the repository.</p>
<h3 id="no-assembly-build"><a class="header" href="#no-assembly-build">No-assembly build</a></h3>
<p>It is possible to avoid the NASM requirement by setting the <code>AWS_LC_SYS_NO_ASM</code>/<code>AWS_LC_FIPS_SYS_NO_ASM</code> environment
variables. However, this severely impacts performance and can only be used for un-optimized/debug builds. See the
notes in our <a href="requirements/../resources.html#troubleshooting">troubleshooting section</a>.</p>
<h2 id="ninja"><a class="header" href="#ninja">Ninja</a></h2>
<ol>
<li><a href="https://github.com/ninja-build/ninja/releases">Download</a> and install Ninja</li>
<li>Add the Ninja installation directory to your PATH
<ul>
<li><code>set PATH=&quot;C:\ninja\ninja_build;%PATH%&quot;</code></li>
</ul>
</li>
</ol>
<h2 id="bindgen-2"><a class="header" href="#bindgen-2">Bindgen</a></h2>
<p>Bindgen is not required for most Windows targets, but it can still be used if needed.
Using <code>bindgen</code> requires a <code>libclang</code> or <code>llvm</code> package to be installed.
See the <a href="https://rust-lang.github.io/rust-bindgen/requirements.html">requirements</a> page in
[The bindgen User Guide] for instructions.</p>
<h3 id="libclang--llvm-1"><a class="header" href="#libclang--llvm-1">libclang / LLVM</a></h3>
<ol>
<li>Download <a href="https://github.com/llvm/llvm-project/releases/tag/llvmorg-15.0.6">LLVM Installer</a></li>
<li>Execute the installer</li>
<li>Update your environment to set <code>LIBCLANG_PATH</code> to the bin directory inside LLVM install directory.
<ul>
<li><code>set LIBCLANG_PATH=&quot;C:\Program Files\LLVM\bin&quot;</code></li>
</ul>
</li>
</ol>
<h3 id="bindgen-cli-2"><a class="header" href="#bindgen-cli-2">bindgen-cli</a></h3>
<pre><code class="language-shell">cargo install --force --locked bindgen-cli
</code></pre>
<h2 id="fips-build-1"><a class="header" href="#fips-build-1">FIPS build</a></h2>
<p>Building with the &quot;fips&quot; feature on this platform will result in the creation of shared libraries (named like
<code>aws_lc_fips_0_xx_yy_crypto.dll</code> and <code>aws_lc_fips_0_xx_yy_rust_wrapper.dll</code>). These shared libraries will likely need to
be distributed alongside any executable that depends on <strong>aws-lc-rs</strong>.</p>
<h2 id="troubleshooting-2"><a class="header" href="#troubleshooting-2">Troubleshooting</a></h2>
<p>See our <a href="requirements/../resources.html#troubleshooting">troubleshooting section</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="platform-support"><a class="header" href="#platform-support">Platform Support</a></h1>
<h2 id="pre-generated-bindings"><a class="header" href="#pre-generated-bindings">Pre-generated bindings</a></h2>
<p><code>aws-lc-rs</code> can utilize pre-generated bindings when operating on the following
build targets.</p>
<div class="table-wrapper"><table><thead><tr><th>Platform</th><th><code>aws-lc-sys</code></th><th><code>aws-lc-fips-sys</code></th></tr></thead><tbody>
<tr><td><code>aarch64-apple-darwin</code></td><td>X</td><td>X</td></tr>
<tr><td><code>aarch64-pc-windows-msvc</code></td><td>X</td><td><strong>Not Supported</strong></td></tr>
<tr><td><code>aarch64-unknown-linux-gnu</code></td><td>X</td><td>X</td></tr>
<tr><td><code>aarch64-unknown-linux-musl</code></td><td>X</td><td>X</td></tr>
<tr><td><code>i686-pc-windows-msvc</code></td><td>X</td><td><strong>Not Supported</strong></td></tr>
<tr><td><code>i686-unknown-linux-gnu</code></td><td>X</td><td><strong>Not Supported</strong></td></tr>
<tr><td><code>x86_64-apple-darwin</code></td><td>X</td><td>X</td></tr>
<tr><td><code>x86_64-pc-windows-gnu</code></td><td>X</td><td><strong>Not Supported</strong></td></tr>
<tr><td><code>x86_64-pc-windows-msvc</code></td><td>X</td><td></td></tr>
<tr><td><code>x86_64-unknown-linux-gnu</code></td><td>X</td><td>X</td></tr>
<tr><td><code>x86_64-unknown-linux-musl</code></td><td>X</td><td>X</td></tr>
</tbody></table>
</div>
<h2 id="tested-platforms"><a class="header" href="#tested-platforms">Tested platforms</a></h2>
<p>In addition to the ones listed above, the  <code>aws-lc-rs</code> CI builds and/or tests with the following platforms.
All platforms listed below require <code>CMake</code> to be available in the build environment.
They also require bindings to be generated during the build process.</p>
<h3 id="bindgen-3"><a class="header" href="#bindgen-3">bindgen</a></h3>
<p>One of the following options must be used for bindings generation.
See <a href="requirements/README.html">requirements</a> page for more information.</p>
<ul>
<li>Enable <code>bindgen</code> feature in your <code>Cargo.toml</code>:</li>
</ul>
<pre><code class="language-toml">[dependencies]
aws-lc-rs = { version = &quot;1&quot;, features = [&quot;bindgen&quot;] }
</code></pre>
<p><em><strong>-- OR --</strong></em></p>
<ul>
<li>Install <code>bindgen-cli</code> in the build envionment:</li>
</ul>
<pre><code class="language-shell">cargo install --force --locked bindgen-cli
</code></pre>
<h3 id="platforms"><a class="header" href="#platforms">Platforms</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Platform</th><th>Build</th><th>Tests</th></tr></thead><tbody>
<tr><td><code>aarch64-apple-ios</code></td><td>X</td><td>X</td></tr>
<tr><td><code>aarch64-linux-android</code></td><td>X</td><td>X</td></tr>
<tr><td><code>aarch64-pc-windows-msvc</code></td><td>X</td><td></td></tr>
<tr><td><code>armv7-linux-androideabi</code></td><td>X</td><td>X</td></tr>
<tr><td><code>arm-linux-androideabi</code></td><td>X</td><td>X</td></tr>
<tr><td><code>arm-unknown-linux-gnueabihf</code></td><td>X</td><td>X</td></tr>
<tr><td><code>powerpc64le-unknown-linux-gnu</code></td><td>X</td><td>X</td></tr>
<tr><td><code>powerpc64-unknown-linux-gnu</code></td><td>X</td><td>X</td></tr>
<tr><td><code>powerpc-unknown-linux-gnu</code></td><td>X</td><td>X</td></tr>
<tr><td><code>riscv64gc-unknown-linux-gnu</code></td><td>X</td><td>X</td></tr>
<tr><td><code>s390x-unknown-linux-gnu</code></td><td>X</td><td>X</td></tr>
<tr><td><code>x86_64-apple-ios</code></td><td>X</td><td></td></tr>
<tr><td><code>x86_64-pc-windows-gnu</code></td><td>X</td><td>X</td></tr>
<tr><td><code>x86_64-pc-windows-msvc</code></td><td>X</td><td>X</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="frequently-asked-questions"><a class="header" href="#frequently-asked-questions">Frequently Asked Questions</a></h1>
<h2 id="what-are-the-differences-between-aws-lc-rs-and-ring"><a class="header" href="#what-are-the-differences-between-aws-lc-rs-and-ring">What are the differences between <code>aws-lc-rs</code> and <code>ring</code>?</a></h2>
<p>While we aim to be API-compatible with <code>ring</code> v0.16 there are some differences in our implementation. Please review the
<a href="https://docs.rs/aws-lc-rs/latest/aws_lc_rs/#ring-compatibility">ring-compatibility</a> section of our <a href="https://docs.rs/aws-lc-rs/latest/aws_lc_rs">API reference guide</a>.</p>
<h2 id="can-i-run-aws-lc-rs-on-x-platform-or-architecture"><a class="header" href="#can-i-run-aws-lc-rs-on-x-platform-or-architecture">Can I run <code>aws-lc-rs</code> on <em>X</em> platform or architecture?</a></h2>
<p>The answer to this question is dependent on several factors based on the target environment:</p>
<ul>
<li>Must be a platform and CPU architecture supported by <a href="https://github.com/aws/aws-lc">AWS-LC</a>.</li>
<li>Must be a platform supported by the Rust compiler with support for the full standard library.
See the <a href="https://doc.rust-lang.org/rustc/platform-support.html">Rust compiler's platform support</a> documentation.</li>
<li>If the underlying <code>aws-lc-sys</code> or <code>aws-lc-fips-sys</code> crates don't have pre-generated bindings for the desired platform
then you must use the <code>bindgen</code> crate feature of <code>aws-lc-rs</code>, or have the <a href="https://crates.io/crates/bindgen-cli">bindgen-cli</a> installed, to enable
generation of the FFI bindings for the desired platform and architecture.</li>
<li>See <a href="requirements/README.html">Requirements</a> and <a href="./platform_suppport.html">Platform Support</a> for more details on
build requirements for various platforms.</li>
</ul>
<p>If there is a platform or architecture you are interested in seeing support for, please create a GitHub <a href="https://github.com/awslabs/aws-lc-rs/issues/new/choose">issue</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="resources"><a class="header" href="#resources">Resources</a></h1>
<h2 id="troubleshooting-3"><a class="header" href="#troubleshooting-3">Troubleshooting</a></h2>
<p>There are a few environment variables that may help in diagnosing/remdiating build problem. These affect the way that
<code>aws-lc-sys</code> or <code>aws-lc-fips-sys</code> build the underlying AWS-LC library.</p>
<p>None of the environment variables below are officially supported, and any one of them might be removed or changed on a
future release. Please <a href="https://github.com/awslabs/aws-lc-rs/issues/new/choose">contact us</a> about any bugs you find in our build process.</p>
<ul>
<li><code>AWS_LC_SYS_STATIC</code> | <code>AWS_LC_FIPS_SYS_STATIC</code> -- value can be set to <code>0</code> or <code>1</code> to force the resulting build
artifact to be shared library (e.g., <code>*.so</code>) or static library (e.g., <code>*.a</code>).</li>
<li><code>AWS_LC_SYS_CMAKE_BUILDER</code> -- value can be set to <code>1</code> or <code>0</code> to force the build to use (<code>1</code>) or not use (<code>0</code>) CMake.</li>
<li><code>AWS_LC_SYS_EXTERNAL_BINDGEN | ``AWS_LC_FIPS_SYS_EXTERNAL_BINDGEN</code> -- value can be set to <code>1</code> or <code>0</code> to force the
build to use (<code>1</code>) or not use (<code>0</code>) the <code>bindgen-cli</code> instead of the pre-generated or internally generated bindings.</li>
<li><code>AWS_LC_SYS_NO_PREFIX</code> | <code>AWS_LC_FIPS_SYS_NO_PREFIX</code> -- value can be set to <code>1</code> to force the build to not prefix the
library nor the symbols it contains.</li>
<li><code>AWS_LC_SYS_NO_ASM</code> | <code>AWS_LC_FIPS_SYS_NO_ASM</code> -- value can be set to <code>1</code> to force the build to use C-language
implementations for all cryptographic operations. Our optimized hardware-specific assembly implementations will not
be used. This option is only available for unoptimized (i.e., <code>OPT_LEVEL = &quot;0&quot;</code> or &quot;debug&quot;) builds.
<strong>WARNING</strong>: Performance on most platforms is extremely limited by this option. Certain security
properties, such as resistance to timing attacks, can only be provided when assembly code is used.</li>
<li><code>AWS_LC_SYS_PREBUILT_NASM</code> -- value can be set to <code>1</code> to <em>allow</em> the build to use our prebuilt NASM objects.
The value can be set to <code>0</code> to <em>prevent</em> our prebuilt NASM objects from being used. See the section on
<a href="requirements/windows.html#prebuilt-nasm-objects">Prebuilt NASM objects</a> for more information.</li>
<li><code>AWS_LC_SYS_CFLAGS</code> -- if value is set, it will be used as the value of <code>CFLAGS</code> in the environment when the AWS-LC
build is performed.</li>
<li><code>AWS_LC_SYS_C_STD</code> -- value can be set to determine the C standard used by the C compiler. It may be set to
either <code>99</code> for C99 or <code>11</code> for C11. On most platforms, C11 will be used by default.</li>
</ul>
<h2 id="links"><a class="header" href="#links">Links</a></h2>
<ul>
<li><a href="https://docs.rs/aws-lc-rs/latest">API Reference Guide</a></li>
<li><a href="https://github.com/awslabs/aws-lc-rs">GitHub Repository</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
