<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Windows - AWS Libcrypto for Rust User Guide</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="../requirements/index.html"><strong aria-hidden="true">1.</strong> Requirements</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../requirements/linux.html"><strong aria-hidden="true">1.1.</strong> Linux</a></li><li class="chapter-item expanded "><a href="../requirements/apple.html"><strong aria-hidden="true">1.2.</strong> macOS/iOS</a></li><li class="chapter-item expanded "><a href="../requirements/windows.html" class="active"><strong aria-hidden="true">1.3.</strong> Windows</a></li></ol></li><li class="chapter-item expanded "><a href="../platform_support.html"><strong aria-hidden="true">2.</strong> Platform Support</a></li><li class="chapter-item expanded "><a href="../faq.html"><strong aria-hidden="true">3.</strong> FAQ</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../resources.html">Resources</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">AWS Libcrypto for Rust User Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="windows-requirements"><a class="header" href="#windows-requirements">Windows Requirements</a></h1>
<div class="table-wrapper"><table><thead><tr><th>Platform</th><th><em>default</em></th><th><strong>fips</strong></th><th>bindgen required?</th></tr></thead><tbody>
<tr><td><code>x86_64-pc-windows-msvc</code></td><td>C/C++ Compiler, CMake &amp; *NASM</td><td>C/C++ Compiler, CMake, NASM, Go &amp; Ninja</td><td>No</td></tr>
<tr><td><code>x86_64-pc-windows-gnu</code></td><td>C/C++ Compiler, CMake &amp; *NASM</td><td><strong>Not Supported</strong></td><td>No</td></tr>
<tr><td><code>i686-pc-windows-msvc</code></td><td>C/C++ Compiler, CMake &amp; NASM</td><td><strong>Not Supported</strong></td><td>No</td></tr>
<tr><td><code>aarch64-pc-windows-msvc</code></td><td>C/C++ Compiler (MSVC's <code>clang-cl</code>) &amp; CMake</td><td><strong>Not Supported</strong></td><td>No</td></tr>
<tr><td><em>Other</em></td><td><strong>Not Supported</strong></td><td><strong>Not Supported</strong></td><td>N/A</td></tr>
</tbody></table>
</div>
<ul>
<li>The NASM assembler is recommended on <code>x86-64</code> platforms. NASM is required for <code>x86</code> and for &quot;fips&quot; builds. See the
<a href="#prebuilt-nasm-objects">Prebuilt NASM objects</a> section below.</li>
</ul>
<h2 id="cc-compiler"><a class="header" href="#cc-compiler">C/C++ Compiler</a></h2>
<p>Use the following instructions to download <strong>Visual Studio Build Tools 2017</strong> or later.</p>
<ol>
<li>Download the <a href="https://aka.ms/vs/17/release/vs_BuildTools.exe">Build Tools for Visual Studio</a> installer.</li>
<li>Execute the installer.</li>
<li>If you have an existing installation chose <code>Modify</code> on the existing installation.</li>
<li>Under <code>Workloads</code> select <code>Visual C++ build tools</code></li>
<li>Under <code>Individual componenets</code> select
<ul>
<li><code>C++/CLI support</code></li>
<li><code>C++ CMake tools for Windows</code></li>
</ul>
</li>
<li>For ARM64/aarch64 support, also select:
<ul>
<li><code>C++ Clang Compiler for Windows</code></li>
<li><code>MSBuild support for LLVM (clang-cl) toolset</code></li>
</ul>
</li>
<li>Confirm selections and click <code>Install</code></li>
</ol>
<h2 id="cmake"><a class="header" href="#cmake">CMake</a></h2>
<ol>
<li><a href="https://cmake.org/download/">Download</a> Windows CMake Installer</li>
<li>Execute the installer</li>
<li>Add the CMake installation binary directory to your PATH.
<ul>
<li><code>set PATH=&quot;C:\Program Files\CMake\bin;%PATH%&quot;</code></li>
</ul>
</li>
</ol>
<h2 id="nasm"><a class="header" href="#nasm">NASM</a></h2>
<ol>
<li><a href="https://nasm.us/">Download</a> and install the Netwide Assembler (NASM)</li>
<li>Add the NASM installation directory to your PATH
<ul>
<li><code>set PATH=&quot;C:\Program Files\NASM;%PATH%&quot;</code></li>
</ul>
</li>
</ol>
<h3 id="use-of-prebuilt-nasm-objects"><a class="header" href="#use-of-prebuilt-nasm-objects">Use of prebuilt NASM objects</a></h3>
<p>For Windows x86 and x86-64, NASM is required for assembly code compilation. On these platforms,
we recommend that you install <a href="https://www.nasm.us/">the NASM assembler</a>. If NASM is
detected in the build environment <em>it is used</em> to compile the assembly files. However,
if a NASM assembler is not available, and the &quot;fips&quot; feature is not enabled, then the build fails unless one of the
following conditions are true:</p>
<ul>
<li>You are building for <code>x86-64</code> and either:
<ul>
<li>The <code>AWS_LC_SYS_PREBUILT_NASM</code> environment variable is found and has a value of &quot;1&quot;; OR</li>
<li><code>AWS_LC_SYS_PREBUILT_NASM</code> is <em>not found</em> in the environment AND the &quot;prebuilt-nasm&quot; feature has been enabled.</li>
</ul>
</li>
</ul>
<p>If the above cases apply, then the crate provided prebuilt NASM objects will be used for the build. To prevent usage of
prebuilt NASM
objects, install NASM in the build environment and/or set the variable <code>AWS_LC_SYS_PREBUILT_NASM</code> to <code>0</code> in the build
environment to prevent their use.</p>
<h4 id="about-prebuilt-nasm-objects"><a class="header" href="#about-prebuilt-nasm-objects">About prebuilt NASM objects</a></h4>
<p>Prebuilt NASM objects are generated using automation similar to the crate provided pregenerated bindings. See the
repositories
<a href="https://github.com/aws/aws-lc-rs/blob/main/.github/workflows/sys-bindings-generator.yml">GitHub workflow configuration</a>
for more information.
The prebuilt NASM objects are checked into the repository
and are <a href="https://github.com/aws/aws-lc-rs/tree/main/aws-lc-sys/builder/prebuilt-nasm">available for inspection</a>.
For each PR submitted,
<a href="https://github.com/aws/aws-lc-rs/blob/8fb6869fc7bde92529a5cca40cf79513820984f7/.github/workflows/tests.yml#L209-L241">CI verifies</a>
that the NASM objects newly built from source match the NASM objects currently in the repository.</p>
<h3 id="no-assembly-build"><a class="header" href="#no-assembly-build">No-assembly build</a></h3>
<p>It is possible to avoid the NASM requirement by setting the <code>AWS_LC_SYS_NO_ASM</code>/<code>AWS_LC_FIPS_SYS_NO_ASM</code> environment
variables. However, this severely impacts performance and can only be used for un-optimized/debug builds. See the
notes in our <a href="../resources.html#troubleshooting">troubleshooting section</a>.</p>
<h2 id="ninja"><a class="header" href="#ninja">Ninja</a></h2>
<ol>
<li><a href="https://github.com/ninja-build/ninja/releases">Download</a> and install Ninja</li>
<li>Add the Ninja installation directory to your PATH
<ul>
<li><code>set PATH=&quot;C:\ninja\ninja_build;%PATH%&quot;</code></li>
</ul>
</li>
</ol>
<h2 id="bindgen"><a class="header" href="#bindgen">Bindgen</a></h2>
<p>Bindgen is not required for most Windows targets, but it can still be used if needed.
Using <code>bindgen</code> requires a <code>libclang</code> or <code>llvm</code> package to be installed.
See the <a href="https://rust-lang.github.io/rust-bindgen/requirements.html">requirements</a> page in
[The bindgen User Guide] for instructions.</p>
<h3 id="libclang--llvm"><a class="header" href="#libclang--llvm">libclang / LLVM</a></h3>
<ol>
<li>Download <a href="https://github.com/llvm/llvm-project/releases/tag/llvmorg-15.0.6">LLVM Installer</a></li>
<li>Execute the installer</li>
<li>Update your environment to set <code>LIBCLANG_PATH</code> to the bin directory inside LLVM install directory.
<ul>
<li><code>set LIBCLANG_PATH=&quot;C:\Program Files\LLVM\bin&quot;</code></li>
</ul>
</li>
</ol>
<h3 id="bindgen-cli"><a class="header" href="#bindgen-cli">bindgen-cli</a></h3>
<pre><code class="language-shell">cargo install --force --locked bindgen-cli
</code></pre>
<h2 id="fips-build"><a class="header" href="#fips-build">FIPS build</a></h2>
<p>Building with the &quot;fips&quot; feature on this platform will result in the creation of shared libraries (named like
<code>aws_lc_fips_0_xx_yy_crypto.dll</code> and <code>aws_lc_fips_0_xx_yy_rust_wrapper.dll</code>). These shared libraries will likely need to
be distributed alongside any executable that depends on <strong>aws-lc-rs</strong>.</p>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<p>See our <a href="../resources.html#troubleshooting">troubleshooting section</a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../requirements/apple.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../platform_support.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../requirements/apple.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../platform_support.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
